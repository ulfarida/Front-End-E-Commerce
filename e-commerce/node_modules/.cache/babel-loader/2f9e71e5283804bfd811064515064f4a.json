{"ast":null,"code":"var _jsxFileName = \"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/pages/editProduk.jsx\";\nimport React from 'react';\nimport Header from '../components/header';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store/store\";\nimport axios from \"axios\";\nimport '../style/form.css';\n\nclass EditProduk extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = async () => {\n      const self = this;\n      console.warn('id produk', self.props.produkId);\n      let produkData = {\n        method: \"get\",\n        url: \"http://0.0.0.0:5000/produk/\" + self.props.produkId * 1,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      await axios(produkData).then(function (response) {\n        console.warn('cari produk details');\n        store.setState({\n          namaProduk: response.data.nama_produk,\n          fotoProduk: response.data.foto_produk,\n          kategori: response.data.kategori,\n          harga: response.data.harga,\n          stok: response.data.stok,\n          deskripsiProduk: response.data.deskripsi,\n          lokasi: response.data.lokasi\n        });\n      }).catch(function (error) {\n        console.log(error);\n        alert(\"error\");\n      });\n    };\n\n    this.editProduk = async e => {\n      const self = this;\n      const input = {\n        nama_produk: this.props.namaProduk,\n        foto_produk: this.props.fotoProduk,\n        kategori: this.props.kategoriProduk,\n        harga: this.props.harga * 1,\n        stok: this.props.stok * 1,\n        deskripsi: this.props.deskripsiProduk,\n        lokasi: this.props.lokasi\n      };\n      let produkData = {\n        method: \"put\",\n        url: \"http://0.0.0.0:5000/admin/produk/\" + self.props.produkId,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n        },\n        data: input\n      };\n      await axios(produkData).then(function (response) {\n        alert(\"Produk berhasil diedit\");\n        self.props.history.push(\"/admin/produk\");\n      }).catch(function (error) {\n        console.log(error);\n        alert(\"error\");\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Edit Produk\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      action: \"\",\n      onSubmit: e => e.preventDefault(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"fname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Nama Produk\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"fname\",\n      name: \"namaProduk\",\n      onChange: e => this.props.setInput(e),\n      value: this.props.namaProduk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"lname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Link Foto Produk\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lname\",\n      name: \"fotoProduk\",\n      onChange: e => this.props.setInput(e),\n      value: this.props.fotoProduk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"lname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Harga\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lname\",\n      name: \"harga\",\n      onChange: e => this.props.setInput(e),\n      value: this.props.harga,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"lname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Stok\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lname\",\n      name: \"stok\",\n      onChange: e => this.props.setInput(e),\n      value: this.props.stok,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"lname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Lokasi\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lname\",\n      name: \"Lokasi\",\n      onChange: e => this.props.setInput(e),\n      value: this.props.lokasi,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Kategori\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"country\",\n      name: \"kategoriProduk\",\n      onChange: e => this.props.setInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Pilih Kategori *\"), React.createElement(\"option\", {\n      value: \"Makanan dan Susu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Makanan dan Susu\"), React.createElement(\"option\", {\n      value: \"Alat Makan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Alat Makan\"), React.createElement(\"option\", {\n      value: \"Perlengkapan Mandi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Perlengkapan Mandi\"), React.createElement(\"option\", {\n      value: \"Mainan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Mainan\"), React.createElement(\"option\", {\n      value: \"Pakaian\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Pakaian\"), React.createElement(\"option\", {\n      value: \"Popok\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Popok\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"subject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Deskripsi Produk\")), React.createElement(\"div\", {\n      className: \"col-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"subject\",\n      name: \"deskripsiProduk\",\n      style: {\n        height: \"200px\"\n      },\n      onChange: e => this.props.setInput(e),\n      value: this.props.deskripsiProduk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        backgroundColor: '#f0134d'\n      },\n      type: \"submit\",\n      value: \"Tambah Produk\",\n      onClick: () => this.editProduk(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default connect('namaProduk, kategoriProduk, fotoProduk, harga, stok, lokasi, deskripsiProduk, foto_profil, produkId', actions)(withRouter(EditProduk));","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/pages/editProduk.jsx"],"names":["React","Header","withRouter","connect","actions","store","axios","EditProduk","Component","componentDidMount","self","console","warn","props","produkId","produkData","method","url","headers","then","response","setState","namaProduk","data","nama_produk","fotoProduk","foto_produk","kategori","harga","stok","deskripsiProduk","deskripsi","lokasi","catch","error","log","alert","editProduk","e","input","kategoriProduk","localStorage","getItem","history","push","render","preventDefault","setInput","height","backgroundColor"],"mappings":"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","sourcesContent":["\nimport React from 'react'; \nimport Header from '../components/header';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store/store\";\nimport axios from \"axios\"\nimport '../style/form.css'\n\nclass EditProduk extends React.Component {\n\n    // state = {\n    //     namaProduk : '',\n    //     fotoProduk : '',\n    //     kategori : '',\n    //     harga : '',\n    //     stok : '',\n    //     deskripsi : '',\n    //     lokasi : ''\n    // }\n\n    componentDidMount = async () => {\n        const self = this\n        console.warn('id produk', self.props.produkId )\n        \n        let produkData = {\n            method:\"get\",\n            url: \"http://0.0.0.0:5000/produk/\"+(self.props.produkId)*1,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        };\n\n        await axios(produkData)\n        \n        .then(function(response){\n            console.warn('cari produk details');\n                store.setState({\n                    namaProduk : response.data.nama_produk,\n                    fotoProduk : response.data.foto_produk,\n                    kategori : response.data.kategori,\n                    harga : response.data.harga,\n                    stok : response.data.stok,\n                    deskripsiProduk : response.data.deskripsi,\n                    lokasi : response.data .lokasi,\n                })\n            })\n            .catch(function(error){\n                console.log(error);\n                alert(\"error\");\n            });\n    }\n\n    editProduk = async (e) => {\n        const self = this\n        const input = {\n            nama_produk : this.props.namaProduk,\n            foto_produk : this.props.fotoProduk,\n            kategori : this.props.kategoriProduk,\n            harga : (this.props.harga)*1,\n            stok : (this.props.stok)*1,\n            deskripsi : this.props.deskripsiProduk,\n            lokasi : this.props.lokasi\n        }\n\n        let produkData = {\n            method:\"put\",\n            url: \"http://0.0.0.0:5000/admin/produk/\"+(self.props.produkId),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization':'Bearer ' + localStorage.getItem(\"token\")\n            },\n            data : input\n        };\n\n        await axios(produkData)\n            .then(function(response){\n                alert(\"Produk berhasil diedit\")\n                self.props.history.push(\"/admin/produk\");\n            })\n            .catch(function(error){\n                console.log(error);\n                alert(\"error\");\n            });\n    }\n\n\n    render () {\n        return (\n            <React.Fragment>\n                <Header/>\n                <div className=\"container mt-2\">\n                        <h2 className=\"text-center mb-5\">Edit Produk</h2>\n                    <div className=\"row\">\n                        <div className=\"col-md-2\"></div>\n                        <div className=\"col-md-8\">\n                            <form action=\"\" onSubmit={e => e.preventDefault()} >\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"fname\">Nama Produk</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <input type=\"text\" id=\"fname\" name=\"namaProduk\" onChange= {e => this.props.setInput(e)} value={this.props.namaProduk}/>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"lname\">Link Foto Produk</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <input type=\"text\" id=\"lname\" name=\"fotoProduk\" onChange= {e => this.props.setInput(e)} value={this.props.fotoProduk} />\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"lname\">Harga</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <input type=\"text\" id=\"lname\" name=\"harga\" onChange= {e => this.props.setInput(e)} value={this.props.harga}/>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"lname\">Stok</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <input type=\"text\" id=\"lname\" name=\"stok\" onChange= {e => this.props.setInput(e)} value={this.props.stok}/>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"lname\">Lokasi</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <input type=\"text\" id=\"lname\" name=\"Lokasi\" onChange= {e => this.props.setInput(e)} value={this.props.lokasi}/>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"country\">Kategori</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <select id=\"country\" name=\"kategoriProduk\" onChange= {e => this.props.setInput(e)}>\n                                    <option value=\"\">Pilih Kategori *</option>\n                                    <option value=\"Makanan dan Susu\">Makanan dan Susu</option>\n                                    <option value=\"Alat Makan\">Alat Makan</option>\n                                    <option value=\"Perlengkapan Mandi\">Perlengkapan Mandi</option>\n                                    <option value=\"Mainan\">Mainan</option>\n                                    <option value=\"Pakaian\">Pakaian</option>\n                                    <option value=\"Popok\">Popok</option>\n                                </select>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-25\">\n                                <label for=\"subject\">Deskripsi Produk</label>\n                                </div>\n                                <div className=\"col-75\">\n                                <textarea id=\"subject\" name=\"deskripsiProduk\" style={{height:\"200px\"}} onChange= {e => this.props.setInput(e)} value={this.props.deskripsiProduk}></textarea>\n                                </div>\n                            </div>\n                            <div className=\"row \">\n                                <input style={{backgroundColor:'#f0134d'}} type=\"submit\" value=\"Tambah Produk\" onClick= {() => this.editProduk()} />\n                            </div>\n                            </form>\n                        </div>\n                    </div>\n                    </div>\n\n            </React.Fragment>\n\n        )\n    }\n    }\nexport default connect('namaProduk, kategoriProduk, fotoProduk, harga, stok, lokasi, deskripsiProduk, foto_profil, produkId', actions)(withRouter(EditProduk))\n"]},"metadata":{},"sourceType":"module"}