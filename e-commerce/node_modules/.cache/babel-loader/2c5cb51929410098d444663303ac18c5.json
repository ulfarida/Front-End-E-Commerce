{"ast":null,"code":"import createStore from 'unistore';\nimport axios from 'axios';\nconst initialState = {\n  nama: '',\n  username: '',\n  password: '',\n  confirm_password: '',\n  password_lama: '',\n  password_baru: '',\n  email: '',\n  alamat: '',\n  telepon: '',\n  tanggalLahir: '',\n  fotoProfil: '',\n  profilData: '',\n  token: '',\n  kategori: '',\n  produkList: [],\n  produkData: {},\n  kuantitas: '',\n  keranjang: {},\n  keranjangData: [],\n  namaProduk: '',\n  harga: '',\n  fotoProduk: '',\n  deskripsiProduk: '',\n  stok: '',\n  kategoriProduk: '',\n  transaksiList: '',\n  lokasi: '',\n  produkId: '',\n  transaksiId: '',\n  search: '',\n  auth: false,\n  apiUrl: 'http://0.0.0.0:5000/',\n  corsHandle: 'https://cors-anywhere.herokuapp.com/'\n};\nexport const store = createStore(initialState);\nexport const actions = store => ({\n  setInput: async (state, event) => {\n    await store.setState({\n      [event.target.name]: event.target.value\n    });\n    console.log('search state', state.search);\n  },\n  setChange: (state, key, value) => {\n    store.setState({\n      [key]: value\n    });\n  },\n  afterLogOut: state => {\n    localStorage.removeItem(\"token\");\n    localStorage.setItem(\"auth\", \"false\");\n  },\n  doSearch: async state => {\n    let produk = {\n      method: \"get\",\n      url: \"http://0.0.0.0:5000/produk\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    await axios(produk).then(async response => {\n      console.warn('respon data', response.data);\n      const produks = response.data.filter(item => item.nama_produk.toLowerCase().indexOf(state.search) > -1);\n      console.warn('search', state.search);\n      console.warn('search result', produks);\n      await store.setState({\n        produkList: produks\n      });\n    }).catch(error => {\n      alert(\"error\");\n    });\n  },\n  changeCategory: async (state, category) => {\n    store.setState({\n      kategori: category\n    });\n    let produk = {\n      method: \"get\",\n      url: \"http://0.0.0.0:5000/produk\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    await axios(produk).then(async response => {\n      console.warn('respon data', response.data);\n      const produks = response.data.filter(item => {\n        if (item.kategori === category) {\n          return item;\n        }\n\n        return false;\n      });\n      await store.setState({\n        produkList: produks\n      });\n    }).catch(error => {\n      alert(\"error\");\n    });\n  }\n});","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/store/store.js"],"names":["createStore","axios","initialState","nama","username","password","confirm_password","password_lama","password_baru","email","alamat","telepon","tanggalLahir","fotoProfil","profilData","token","kategori","produkList","produkData","kuantitas","keranjang","keranjangData","namaProduk","harga","fotoProduk","deskripsiProduk","stok","kategoriProduk","transaksiList","lokasi","produkId","transaksiId","search","auth","apiUrl","corsHandle","store","actions","setInput","state","event","setState","target","name","value","console","log","setChange","key","afterLogOut","localStorage","removeItem","setItem","doSearch","produk","method","url","headers","then","response","warn","data","produks","filter","item","nama_produk","toLowerCase","indexOf","catch","error","alert","changeCategory","category"],"mappings":"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","sourcesContent":["import createStore from 'unistore';\nimport axios from 'axios';\n\nconst initialState = {\n  nama: '',\n  username: '',\n  password: '',\n  confirm_password: '',\n  password_lama: '',\n  password_baru: '',\n  email: '',\n  alamat: '',\n  telepon: '',\n  tanggalLahir: '',\n  fotoProfil: '',\n  profilData: '',\n  token: '',\n  kategori: '',\n  produkList: [],\n  produkData: {},\n  kuantitas: '',\n  keranjang: {},\n  keranjangData: [],\n  namaProduk: '',\n  harga: '',\n  fotoProduk: '',\n  deskripsiProduk: '',\n  stok: '',\n  kategoriProduk: '',\n  transaksiList : '',\n  lokasi: '',\n  produkId : '',\n  transaksiId : '',\n  search : '',\n  auth: false,\n  apiUrl: 'http://0.0.0.0:5000/',\n  corsHandle: 'https://cors-anywhere.herokuapp.com/'\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n  setInput: async (state, event) => {\n    await store.setState({ [event.target.name]: event.target.value });\n    console.log('search state', state.search);\n  },\n  setChange: (state, key, value) => {\n    store.setState({ [key]: value });\n  },\n  afterLogOut : state => {\n    localStorage.removeItem(\"token\")\n    localStorage.setItem(\"auth\", \"false\")\n  },\n  doSearch : async state => {\n    let produk = {\n      method:\"get\",\n      url: \"http://0.0.0.0:5000/produk\",\n      headers: {\n          \"Content-Type\": \"application/json\"\n      }\n    };\n\n    await axios(produk)\n        .then(async (response) => {\n          console.warn('respon data', response.data);\n          \n          const produks = response.data.filter(item =>\n              item.nama_produk.toLowerCase().indexOf(state.search) > -1 \n              )\n          console.warn('search', state.search);\n          console.warn('search result', produks);\n            \n          await store.setState({ produkList : produks})\n        })\n        .catch((error) => {\n            alert(\"error\");\n        });\n  },\n\n  changeCategory : async (state, category) =>{\n    store.setState({kategori:category})\n    let produk = {\n        method:\"get\",\n        url: \"http://0.0.0.0:5000/produk\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n\n    await axios(produk)\n        .then(async (response) => {\n          console.warn('respon data', response.data);\n          \n            const produks = response.data.filter(item => {\n                if (item.kategori === category) {\n                    return item;\n                }\n                return false;\n                })\n            await store.setState({ produkList : produks})\n        })\n        .catch((error) => {\n            alert(\"error\");\n        });\n    }\n});\n"]},"metadata":{},"sourceType":"module"}