{"ast":null,"code":"var _jsxFileName = \"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/pages/kategoriProduk.jsx\";\nimport React from 'react';\nimport Header from '../components/header';\nimport Filter from '../components/filterProduk';\nimport Produk from '../components/produk';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store/store\";\nimport axios from \"axios\";\n\nclass KategoriProduk extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = async () => {\n      const self = this;\n      const kategori = await self.props.match.params.kategori;\n\n      if (self.props.kategori !== kategori) {\n        await self.hitCategory();\n      }\n    };\n\n    this.changeCategory = async category => {\n      // const self = this\n      store.setState({\n        kategori: category\n      });\n      await this.hitCategory(); // const kategori = await this.props.match.params.kategori\n      // if(this.props.kategori!==kategori){\n      //     await this.hitCategory();\n      // }\n    };\n\n    this.hitCategory = async () => {\n      let produk = {\n        method: \"get\",\n        url: \"http://0.0.0.0:5000/produk\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      await axios(produk).then(async response => {\n        const produks = response.data.filter(item => {\n          if (item.kategori === this.props.kategori) {\n            return item;\n          }\n\n          return false;\n        });\n        await store.setState({\n          produkList: produks\n        });\n      }).catch(error => {\n        alert(\"error\");\n      });\n    };\n  }\n\n  render() {\n    let itemProduk;\n\n    if (this.props.produkList !== undefined && this.props.produkList !== null) {\n      const listProduk = this.props.produkList;\n      itemProduk = listProduk.map((item, key) => {\n        return React.createElement(Produk, Object.assign({\n          key: key,\n          number: key,\n          nama_produk: item.nama_produk,\n          foto_produk: item.foto_produk,\n          harga: item.harga,\n          stok: item.stok,\n          deskripsi: item.deskripsi,\n          lokasi: item.lokasi\n        }, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }));\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      changeCategory: e => this.changeCategory(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-9 mr-0 ml-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row search-result mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, itemProduk)))));\n  }\n\n}\n\nexport default connect('kategori, produkList', actions)(withRouter(KategoriProduk));","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/pages/kategoriProduk.jsx"],"names":["React","Header","Filter","Produk","withRouter","connect","actions","store","axios","KategoriProduk","Component","componentDidMount","self","kategori","props","match","params","hitCategory","changeCategory","category","setState","produk","method","url","headers","then","response","produks","data","filter","item","produkList","catch","error","alert","render","itemProduk","undefined","listProduk","map","key","nama_produk","foto_produk","harga","stok","deskripsi","lokasi","e"],"mappings":"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","sourcesContent":["import React from 'react'; \nimport Header from '../components/header';\nimport Filter from '../components/filterProduk';\nimport Produk from '../components/produk';\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store/store\";\nimport axios from \"axios\"\n\nclass KategoriProduk extends React.Component {\n\n    componentDidMount = async () => { \n        const self = this\n        const kategori = await self.props.match.params.kategori\n        if(self.props.kategori!==kategori){\n            await self.hitCategory();\n        }\n    }\n\n    changeCategory = async category =>{\n        // const self = this\n        store.setState({kategori:category})\n        await this.hitCategory()\n        // const kategori = await this.props.match.params.kategori\n        // if(this.props.kategori!==kategori){\n        //     await this.hitCategory();\n        // }\n    }\n\n    hitCategory = async () => {\n        let produk = {\n            method:\"get\",\n            url: \"http://0.0.0.0:5000/produk\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        };\n\n        await axios(produk)\n            .then(async (response) => {\n                const produks = response.data.filter(item => {\n                    if (item.kategori === this.props.kategori) {\n                        return item;\n                    }\n                    return false;\n                    })\n                await store.setState({ produkList : produks})\n            })\n            .catch((error) => {\n                alert(\"error\");\n            });\n    }\n\n\n    render () {\n\n        let itemProduk;\n        if(this.props.produkList!==undefined && this.props.produkList!==null) {\n            const listProduk = this.props.produkList\n            itemProduk = listProduk.map((item, key) => {\n                return (\n                    <Produk \n                        key={key} \n                        number = {key}\n                        nama_produk={item.nama_produk} \n                        foto_produk={item.foto_produk} \n                        harga={item.harga}\n                        stok={item.stok}\n                        deskripsi={item.deskripsi}\n                        lokasi={item.lokasi} \n                        {...this.props}\n                        />\n                );\n            });\n        }\n        return (\n            <div>\n                <Header/>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-md-3\">\n                            <Filter changeCategory={(e)=>this.changeCategory(e)}/>\n                        </div>\n                        <div className=\"col-md-9 mr-0 ml-0\">\n                            <div className=\"row search-result mt-5\">\n                                {itemProduk}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n\n        )\n    }\n}\nexport default connect('kategori, produkList', actions)(withRouter(KategoriProduk));\n"]},"metadata":{},"sourceType":"module"}