{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Header from'../components/header';import{withRouter,Link}from\"react-router-dom\";import{connect}from\"unistore/react\";import{actions,store}from\"../store/store\";import axios from\"axios\";import deleted from\"../images/delete.svg\";var Keranjang=/*#__PURE__*/function(_React$Component){_inherits(Keranjang,_React$Component);function Keranjang(){var _getPrototypeOf2;var _this;_classCallCheck(this,Keranjang);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Keranjang)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.componentDidMount=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.getKeranjang();case 1:case\"end\":return _context.stop();}}});};_this.getKeranjang=function _callee2(){var keranjang;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:keranjang={method:\"get\",url:\"http://0.0.0.0:5000/keranjang\",headers:{\"Content-Type\":\"application/json\",'Authorization':'Bearer '+localStorage.getItem(\"token\")}};_context2.next=3;return _regeneratorRuntime.awrap(axios(keranjang).then(function(response){store.setState({keranjang:response.data,keranjangData:response.data.produk});}).catch(function(error){console.log(error);}));case 3:case\"end\":return _context2.stop();}}});};_this.hapusProduk=function _callee3(keranjangId){var self,keranjang;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:self=_assertThisInitialized(_this);keranjang={method:\"delete\",url:\"http://0.0.0.0:5000/keranjang/\"+keranjangId*1,headers:{\"Content-Type\":\"application/json\",'Authorization':'Bearer '+localStorage.getItem(\"token\")}};_context3.next=4;return _regeneratorRuntime.awrap(axios(keranjang).then(function(response){alert('produk berhasil di hapus dari keranjang');}).catch(function(error){console.log(error);}));case 4:self.getKeranjang();case 5:case\"end\":return _context3.stop();}}});};_this.updateKeranjang=function _callee4(keranjangId){var self,input,keranjang;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:self=_assertThisInitialized(_this);// self.props.setInput(e)\ninput={\"kuantitas\":self.props.kuantitas*1};keranjang={method:\"put\",url:\"http://0.0.0.0:5000/keranjang/\"+keranjangId*1,headers:{\"Content-Type\":\"application/json\",'Authorization':'Bearer '+localStorage.getItem(\"token\")},data:input};_context4.next=5;return _regeneratorRuntime.awrap(axios(keranjang).then(function(response){self.getKeranjang();}).catch(function(error){console.log(error);}));case 5:case\"end\":return _context4.stop();}}});};return _this;}_createClass(Keranjang,[{key:\"render\",value:function render(){var _this2=this;var keranjangDetail;var keranjangProduk;if(this.props.keranjangData!==undefined){keranjangDetail=this.props.keranjangData;keranjangProduk=keranjangDetail.map(function(value){return React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{className:\"product-col\"},React.createElement(\"img\",{src:value.produk.foto_produk,alt:\"\"}),React.createElement(\"div\",{className:\"pc-title\"},React.createElement(\"h4\",null,value.produk.nama_produk),React.createElement(Link,{onClick:function onClick(){return _this2.hapusProduk(value.id);}},React.createElement(\"img\",{src:deleted,alt:\"\",width:\"20px\"})))),React.createElement(\"td\",{className:\"price-col\"},\"Rp. \",value.produk.harga),React.createElement(\"td\",{className:\"quy-col\"},React.createElement(\"div\",{className:\"quy-input\"},value.produk.kuantitas,React.createElement(\"input\",{type:\"number\",min:\"01\",style:{width:'50px'},value:value.kuantitas,onChange:function onChange(e){return _this2.props.setInput(e);},name:\"kuantitas\",onClick:function onClick(){return _this2.updateKeranjang(value.id);}}))),React.createElement(\"td\",{className:\"total-col\"},\"Rp. \",value.harga)));});}return React.createElement(React.Fragment,null,React.createElement(Header,null),React.createElement(\"div\",{className:\"page-area cart-page spad mt-5\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"cart-table\"},React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",{style:{backgroundColor:'#fcc200'}},React.createElement(\"th\",{className:\"product-th text-center\"},\"Produk\"),React.createElement(\"th\",null,\"Harga\"),React.createElement(\"th\",null,\"Kuantitas\"),React.createElement(\"th\",{className:\"total-th\"},\"Total\"))),keranjangProduk)),React.createElement(\"div\",{className:\"row cart-buttons align-items-center\"},React.createElement(\"div\",{className:\"col-lg-4 col-md-4\"},React.createElement(\"h5\",null,\"Total harga :\"),React.createElement(\"h1\",null,\"Rp. \",this.props.keranjang.total_harga)),React.createElement(\"div\",{className:\"col-lg-4 col-md-4 text-lg-right text-left\"}),React.createElement(\"div\",{className:\"col-lg-4 col-md-4 text-lg-center text-center site-btn btn-continue\",style:{backgroundColor:'#fcc200'}},React.createElement(Link,{onClick:function onClick(){return _this2.props.history.push('/checkout');},className:\"text-center\",href:\"checkout.html\",style:{color:\"black\"}},\"Checkout\"))))),React.createElement(\"div\",{className:\"col-lg-8 pl-5\"},React.createElement(\"div\",{className:\"cart-total-details\"})));}}]);return Keranjang;}(React.Component);export default connect('auth, keranjang, keranjangData, kuantitas',actions)(withRouter(Keranjang));","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/E-commerce/Front-End-E-Commerce/e-commerce/src/pages/keranjang.jsx"],"names":["React","Header","withRouter","Link","connect","actions","store","axios","Keranjang","componentDidMount","getKeranjang","keranjang","method","url","headers","localStorage","getItem","then","response","setState","data","keranjangData","produk","catch","error","console","log","hapusProduk","keranjangId","self","alert","updateKeranjang","input","props","kuantitas","keranjangDetail","keranjangProduk","undefined","map","value","foto_produk","nama_produk","id","deleted","harga","width","e","setInput","backgroundColor","total_harga","history","push","color","Component"],"mappings":"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","sourcesContent":["import React from 'react'; \nimport Header from '../components/header';\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store/store\";\nimport axios from \"axios\"\nimport deleted from '../images/delete.svg'\n\nclass Keranjang extends React.Component {\n\n    componentDidMount = async () => {\n        this.getKeranjang()\n    }\n\n    getKeranjang = async () => {\n        let keranjang = {\n            method:\"get\",\n            url: \"http://0.0.0.0:5000/keranjang\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization':'Bearer ' + localStorage.getItem(\"token\")\n            }\n        };\n\n        await axios(keranjang)\n            .then((response) => {\n                store.setState({keranjang : response.data, keranjangData : response.data.produk})\n            })\n            .catch(function(error) {\n                console.log(error)\n            })\n    }\n\n    hapusProduk = async keranjangId => {\n        const self = this\n        let keranjang = {\n            method:\"delete\",\n            url: \"http://0.0.0.0:5000/keranjang/\"+(keranjangId)*1,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization':'Bearer ' + localStorage.getItem(\"token\")\n            }\n        };\n\n        await axios(keranjang)\n            .then((response) => {\n                alert('produk berhasil di hapus dari keranjang')\n            })\n            .catch(function(error) {\n                console.log(error)\n            })\n\n        self.getKeranjang()\n    }\n\n    updateKeranjang = async (keranjangId) => {\n        const self = this\n        // self.props.setInput(e)\n        const input = {\n            \"kuantitas\" : (self.props.kuantitas)*1\n        }\n        let keranjang = {\n            method:\"put\",\n            url: \"http://0.0.0.0:5000/keranjang/\"+(keranjangId)*1,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization':'Bearer ' + localStorage.getItem(\"token\")\n            },\n            data : input\n        };\n\n        await axios(keranjang)\n            .then((response) => {\n                self.getKeranjang()\n            })\n            .catch(function(error) {\n                console.log(error)\n            })       \n    }\n\n\n    render () {\n\n        let keranjangDetail;\n        let keranjangProduk;\n        if(this.props.keranjangData!==undefined) {\n            keranjangDetail = this.props.keranjangData\n\n            keranjangProduk = keranjangDetail.map((value) => {\n                return (\n                    <tbody>\n                        <tr>\n                            <td className=\"product-col\">\n                                <img src={value.produk.foto_produk} alt=\"\"/>\n                                <div className=\"pc-title\">\n                                    <h4>{value.produk.nama_produk}</h4>\n                                    <Link onClick={()=>this.hapusProduk(value.id)}><img src={deleted} alt=\"\" width='20px'/></Link>\n                                </div>\n                            </td>\n                            <td className=\"price-col\">Rp. {value.produk.harga}</td>\n                            <td className=\"quy-col\">\n                                <div className=\"quy-input\">\n                                    {value.produk.kuantitas}\n                                    <input type=\"number\" min=\"01\" style={{width:'50px'}} value={value.kuantitas} onChange={(e)=>this.props.setInput(e)} name='kuantitas' onClick={() => this.updateKeranjang(value.id)}/>\n                                </div>\n                            </td>\n                            <td className=\"total-col\">Rp. {value.harga}</td>\n                        </tr>\n                    </tbody>\n                )\n            })\n        }\n\n        return (\n            <React.Fragment>\n                <Header/>\n                <div className=\"page-area cart-page spad mt-5\">\n                    <div className=\"container\">\n                        <div className=\"cart-table\">\n                            <table>\n                                <thead>\n                                    <tr style={{backgroundColor:'#fcc200'}}>\n                                        <th className=\"product-th text-center\">Produk</th>\n                                        <th>Harga</th>\n                                        <th>Kuantitas</th>\n                                        <th className=\"total-th\">Total</th>\n                                    </tr>\n                                </thead>\n                                {keranjangProduk}\n                            </table>\n                        </div>\n                        <div className=\"row cart-buttons align-items-center\">\n                            <div className=\"col-lg-4 col-md-4\">\n                                <h5>Total harga :</h5>\n                                <h1>Rp. {this.props.keranjang.total_harga}</h1>\n                            </div>\n                            <div className=\"col-lg-4 col-md-4 text-lg-right text-left\">\n                            </div>\n                            <div className=\"col-lg-4 col-md-4 text-lg-center text-center site-btn btn-continue\" style={{backgroundColor:'#fcc200'}}>\n                                <Link onClick={() => this.props.history.push('/checkout')} className=\"text-center\" href=\"checkout.html\" style={{color: \"black\"}}>Checkout</Link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-lg-8 pl-5\">\n                    <div className=\"cart-total-details\">\n                    </div>\n                </div>\n            </React.Fragment>\n\n        )\n    }\n}\nexport default  connect('auth, keranjang, keranjangData, kuantitas', actions)(withRouter(Keranjang));\n\n\n"]},"metadata":{},"sourceType":"module"}